openapi: 3.1.0
info:
  title: Product Catalog API
  version: '1.0'
  description: 'The Product Catalog API enables customers browse Acme Pet Supplies great range of pet products and their product reviews. '
  summary: Browse Acme Pet Supplies catalog
  contact:
    name: John Smit
    email: john.smith@acme-pet-supplies.co.uk
    url: acme-pet-supplies.co.uk/docs
  termsOfService: 'http://acme-pet-supplies.co.uk/terms'
servers:
  - url: '{serverurl}'
    variables:
      serverurl:
        default: 'https://api.acme-pet-supplies.com/v1/catalog'
        description: The prod API environment.
paths:
  /categories:
    get:
      summary: Get all Categories
      tags: []
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: array
                    items:
                      $ref: '#/components/schemas/Category'
                  pagination:
                    $ref: '#/components/schemas/Pagination'
                required:
                  - data
                  - pagination
              examples:
                example-1:
                  value:
                    data:
                      - name: Dogs
                        categoryId: 1e32231d-b8a1-4145-b539-820301c2af64
                    pagination:
                      self: 'https://api.acme-pet-supplies.com/v1/catalog/categories?cursor=bccf5512'
                      first: 'https://api.acme-pet-supplies.com/v1/catalog/categories?cursor=fa0a11ec'
                      prev: 'https://api.acme-pet-supplies.com/v1/catalog/categories?cursor=0242ac120'
                      next: 'https://api.acme-pet-supplies.com/v1/catalog/categories?cursor=651b1f06'
                      last: 'https://api.acme-pet-supplies.com/v1/catalog/categories?cursor=3a1893e2'
        '401':
          description: Unauthorized
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/401Unauthorized'
              examples:
                example-1:
                  value:
                    type: /problems/resource-not-found
                    title: Not Found
                    status: 404
                    detail: The requested resource with ID '651295a4-40da-4742-a567-8fdddf6898c1' is not found. Please check you are requesting the right resource.
                    instance: /problems/resource-not-found#log-22ce59a8-f263-4164-8d6d-18952a940748
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/403Forbidden'
              examples: {}
      operationId: listProductCategories
      description: List all categories.
    parameters: []
  /products:
    parameters: []
    get:
      summary: Get all Products
      tags: []
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: array
                    items:
                      $ref: '#/components/schemas/Product'
                  pagination:
                    $ref: '#/components/schemas/Pagination'
              examples:
                example-1:
                  value:
                    data:
                      - productId: dcd53ddb-8104-4e48-8cc0-5df1088c6113
                        name: Acme Uber Dog Rope Toy
                        description: 'Acme Uber Dog Rope Toy provides hours of fun for your dog. Great for bouncing, throwing and catching. '
                        price: 100
                        keywords:
                          - dog toy
                        categories:
                          - name: Dogs
                            categoryId: 1e32231d-b8a1-4145-b539-820301c2af64
                        reviewRating: 5
                        numberOfReviews: 10
                    pagination:
                      self: 'https://api.acme-pet-supplies.com/v1/catalog/products?cursor=bccf5512'
                      first: 'https://api.acme-pet-supplies.com/v1/catalog/products?cursor=fa0a11ec'
                      prev: 'https://api.acme-pet-supplies.com/v1/catalog/products?cursor=0242ac120'
                      next: 'https://api.acme-pet-supplies.com/v1/catalog/products?cursor=651b1f06'
                      last: 'https://api.acme-pet-supplies.com/v1/catalog/products?cursor=3a1893e2'
        '401':
          description: Unauthorized
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/401Unauthorized'
              examples:
                example-1:
                  value:
                    type: /problems/unauthorized
                    title: Unauthorized
                    status: 401
                    detail: The request has NOT been successfully authenticated. Please check you have the right API credentials.
                    instance: /problems/unauthorized#log-22ce59a8-f263-4164-8d6d-18952a940748
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/403Forbidden'
              examples:
                example-1:
                  value:
                    type: /problems/forbidden
                    title: Forbidden
                    status: 403
                    detail: You do not have permission to access this resource.
                    instance: /problems/forbidden#log-22ce59a8-f263-4164-8d6d-18952a940748
      operationId: listProductsInCategory
      description: List all products.
  '/products/{productId}':
    parameters:
      - schema:
          type: string
          format: uuid
        name: productId
        in: path
        required: true
    get:
      summary: Get a Product
      tags: []
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Product'
              examples:
                example-1:
                  value:
                    productId: dcd53ddb-8104-4e48-8cc0-5df1088c6113
                    name: Acme Uber Dog Rope Toy
                    description: 'Acme Uber Dog Rope Toy provides hours of fun for your dog. Great for bouncing, throwing and catching. '
                    price: 100
                    keywords:
                      - dog toy
                    categories:
                      - categoryId: 1e32231d-b8a1-4145-b539-820301c2af64
                        name: Dogs
                    reviewRating: 5
                    numberOfReviews: 10
        '401':
          description: Unauthorized
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/401Unauthorized'
              examples:
                example-1:
                  value:
                    type: /problems/unauthorized
                    title: Unauthorized
                    status: 401
                    detail: The request has NOT been successfully authenticated. Please check you have the right API credentials.
                    instance: /problems/unauthorized#log-22ce59a8-f263-4164-8d6d-18952a940748
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/403Forbidden'
              examples:
                example-1:
                  value:
                    type: /problems/forbidden
                    title: Forbidden
                    status: 403
                    detail: You do not have permission to access this resource.
                    instance: /problems/forbidden#log-22ce59a8-f263-4164-8d6d-18952a940748
        '404':
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/404NotFound'
              examples:
                example-1:
                  value:
                    type: /problems/resource-not-found
                    title: Not Found
                    status: 404
                    detail: The requested resource with ID '651295a4-40da-4742-a567-8fdddf6898c1' is not found. Please check you are requesting the right resource.
                    instance: /problems/resource-not-found#log-22ce59a8-f263-4164-8d6d-18952a940748
      operationId: viewProduct
      description: View a product's details.
  /reviews:
    parameters: []
    get:
      summary: Get Product Reviews
      tags: []
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: array
                    items:
                      $ref: '#/components/schemas/Review'
                  pagination:
                    $ref: '#/components/schemas/Pagination'
                required:
                  - data
                  - pagination
              examples:
                example-1:
                  value:
                    data:
                      - productReviewId: a264188f-b5ba-4c5c-8f9c-d0e9348b14dc
                        content: This dog toy is great! My dog loved to play with it. I thoroughly recommend.
                        rating: 5
                        authorName: Jill Baker
                        submittedDate: '2022-04-12T23:20:50.52Z'
                        productId: dcd53ddb-8104-4e48-8cc0-5df1088c6113
                    pagination:
                      self: 'https://api.acme-pet-supplies.com/v1/catalog/reviews?cursor=bccf5512'
                      first: 'https://api.acme-pet-supplies.com/v1/catalog/reviews?cursor=fa0a11ec'
                      prev: 'https://api.acme-pet-supplies.com/v1/catalog/reviews?cursor=0242ac120'
                      next: 'https://api.acme-pet-supplies.com/v1/catalog/reviews?cursor=651b1f06'
                      last: 'https://api.acme-pet-supplies.com/v1/catalog/reviews?cursor=3a1893e2'
        '401':
          description: Unauthorized
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/401Unauthorized'
              examples:
                example-1:
                  value:
                    type: /problems/unauthorized
                    title: Unauthorized
                    status: 401
                    detail: The request has NOT been successfully authenticated. Please check you have the right API credentials.
                    instance: /problems/unauthorized#log-22ce59a8-f263-4164-8d6d-18952a940748
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/403Forbidden'
              examples:
                example-1:
                  value:
                    type: /problems/forbidden
                    title: Forbidden
                    status: 403
                    detail: You do not have permission to access this resource.
                    instance: /problems/forbidden#log-22ce59a8-f263-4164-8d6d-18952a940748
      operationId: listProductReviews
      description: Get all reviews.
components:
  schemas:
    Category:
      title: Category
      x-stoplight:
        id: elt8m3eura182
      type: object
      examples:
        - categoryId: 1e32231d-b8a1-4145-b539-820301c2af64
          name: Dogs
      description: A product category.
      properties:
        categoryId:
          type: string
          format: uuid
          example: 1e32231d-b8a1-4145-b539-820301c2af64
          description: Identifier of the category.
        name:
          type: string
          example: Dogs
          maxLength: 20
          minLength: 0
          description: Name of the product category.
      required:
        - categoryId
        - name
    Product:
      title: Product
      x-stoplight:
        id: rqw04761l3s4d
      type: object
      description: 'An item in Acme''s pet supplies catalog. '
      examples:
        - productId: dcd53ddb-8104-4e48-8cc0-5df1088c6113
          name: Acme Uber Dog Rope Toy
          description: 'Acme Uber Dog Rope Toy provides hours of fun for your dog. Great for bouncing, throwing and catching. '
          price: 100
          keywords:
            - dog toy
          categories:
            - categoryId: 1e32231d-b8a1-4145-b539-820301c2af64
              name: Dogs
          reviewRating: 5
          numberOfReviews: 10
      properties:
        productId:
          type: string
          format: uuid
          example: dcd53ddb-8104-4e48-8cc0-5df1088c6113
          description: Identifier for the product.
        name:
          type: string
          minLength: 1
          maxLength: 50
          example: Acme Uber Dog Rope Toy
          description: Name of the product.
        description:
          type: string
          maxLength: 300
          minLength: 0
          example: 'Acme Uber Dog Rope Toy provides hours of fun for your dog. Great for bouncing, throwing and catching. '
          description: A description of the product.
        price:
          type: number
          minimum: 0
          maximum: 1000000
          example: 100
          description: Price of the product.
        keywords:
          type: array
          maxItems: 20
          minItems: 0
          uniqueItems: true
          description: 'A colleciton of words that describe the product, used for searching for it.'
          items:
            type: string
            example: dog toy
        categories:
          type: array
          uniqueItems: true
          description: The links and names of the product categories to which the product belongs.
          items:
            $ref: '#/components/schemas/Category'
        reviewRating:
          type: integer
          minimum: 1
          maximum: 5
          format: int32
          example: 5
          description: Average product review rating.
        numberOfReviews:
          type: integer
          example: 10
          format: int32
          description: Number of product reviews.
      required:
        - productId
        - name
        - price
    Review:
      title: Review
      x-stoplight:
        id: ql1ifoos1mvp2
      type: object
      description: 'A review for a product. '
      properties:
        productReviewId:
          type: string
          format: uuid
          example: a264188f-b5ba-4c5c-8f9c-d0e9348b14dc
          description: Identifier for a product review.
        content:
          type: string
          example: This dog toy is great! My dog loved to play with it. I thoroughly recommend.
          maxLength: 500
          minLength: 0
          description: Review content.
        rating:
          type: integer
          minimum: 1
          maximum: 5
          example: 5
          description: 'The rating of the review. A number in the range 1 to 5, 1 for lowest and 5 for highest.'
        authorName:
          type: string
          example: Jill Baker
          description: Name of the author of the review.
        submittedDate:
          type: string
          format: date-time
          example: '2022-04-12T23:20:50.52Z'
          description: |
            Date the review was submitted.
        productId:
          type: string
          description: 'Product this review is for. '
          format: uuid
      required:
        - productReviewId
        - content
        - rating
        - authorName
        - submittedDate
        - productId
    Pagination:
      title: Pagination
      x-stoplight:
        id: eo3hjmqtxvm9l
      type: object
      examples:
        - self: 'https://api.acme-pet-supplies.com/v1/catalog/categories?cursor=bccf5512'
          first: 'https://api.acme-pet-supplies.com/v1/catalog/categories?cursor=fa0a11ec'
          prev: 'https://api.acme-pet-supplies.com/v1/catalog/categories?cursor=0242ac120'
          next: 'https://api.acme-pet-supplies.com/v1/catalog/categories?cursor=651b1f06'
          last: 'https://api.acme-pet-supplies.com/v1/catalog/categories?cursor=3a1893e2'
      description: An object containing pagination information
      properties:
        self:
          type: string
          format: uri
          description: Cursor pointing to the current page.
        first:
          type: string
          format: uri
          description: Cursor to the first page.
        prev:
          type: string
          format: uri
          description: Cursor to the previous page.
        next:
          type: string
          format: uri
          description: Cursor to the next page.
        last:
          type: string
          format: uri
          description: Cursor to the last page.
      required:
        - self
    Problem:
      title: Problem
      x-stoplight:
        id: g0y7ze2gn7xip
      type: object
      examples:
        - type: /problems/resource-not-found
          title: Not Found
          status: 404
          detail: The requested resource with ID '651295a4-40da-4742-a567-8fdddf6898c1' is not found. Please check you are requesting the right resource.
          instance: /problems/resource-not-found#log-22ce59a8-f263-4164-8d6d-18952a940748
      properties:
        type:
          type: string
          format: uri-reference
          default: 'about:blank'
          example: /problems/resource-not-found
          description: A URI reference that identifies the problem type. It is recommended but not necessary that the URI should resolve to human-readable HTML documentation describing the type. The problem type provides information that is more specific than the HTTP status code.
        title:
          type: string
          description: 'A short, human-readable description of the problem type. The title should be the same for given types.'
          example: Not Found
        status:
          type: integer
          format: int32
          description: The HTTP status generated by the origin server.Conveys the HTTP status code used for the convenience of the consumer.
          minimum: 100
          exclusiveMaximum: 600
          example: 404
        detail:
          type: string
          description: 'A human-readable description of the problem instance, explaining why the problem occurred in this specific case. Should focus on helping the client correct the problem, rather than giving debugging information.'
          example: The requested resource with ID '651295a4-40da-4742-a567-8fdddf6898c1' is not found. Please check you are requesting the right resource.
        instance:
          type: string
          description: A URI reference that identifies the specific occurrence of the problem.  It may or may not yield further information if dereferenced.
          format: uri-reference
          example: /problems/resource-not-found#log-22ce59a8-f263-4164-8d6d-18952a940748
      required:
        - type
        - title
        - status
    404NotFound:
      $ref: '#/components/schemas/Problem'
      description: Resource Not Found
      examples:
        - type: /problems/resource-not-found
          title: Not Found
          status: 404
          detail: The requested resource with ID '651295a4-40da-4742-a567-8fdddf6898c1' is not found. Please check you are requesting the right resource.
          instance: /problems/resource-not-found#log-22ce59a8-f263-4164-8d6d-18952a940748
    403Forbidden:
      $ref: '#/components/schemas/Problem'
      examples:
        - type: /problems/forbidden
          title: Forbidden
          status: 403
          detail: You do not have permission to access this resource.
          instance: /problems/forbidden#log-22ce59a8-f263-4164-8d6d-18952a940748
    401Unauthorized:
      $ref: '#/components/schemas/Problem'
      examples:
        - type: /problems/unauthorized
          title: Unauthorized
          status: 401
          detail: The request has NOT been successfully authenticated. Please check you have the right API credentials.
          instance: /problems/unauthorized#log-22ce59a8-f263-4164-8d6d-18952a940748
  securitySchemes:
    apiKey:
      name: 142a3e7e-6075-40e8-9bad-136a136f335d
      type: apiKey
      in: header
      description: ''
